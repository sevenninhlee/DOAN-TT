// eslint-disable-next-line node/no-extraneous-import
import interact from 'interactjs';
// Interactables
interact(document.body);
interact(document);
interact(window);
interact('.drag-and-resize')
    .draggable({
    modifiers: [
        interact.modifiers.snap({
            targets: [
                { x: 100, y: 200 },
                (x, y) => ({ x: x % 20, y }),
            ],
            offset: 'startCoords',
            relativePoints: [{ x: 0, y: 1 }],
            endOnly: true,
        }),
        interact.modifiers.snapSize({
            targets: [
                { x: 100, y: 200 },
                (x, y) => ({ x: x % 20, y }),
            ],
            endOnly: true,
        }),
        interact.modifiers.restrictRect({
            restriction: 'parent',
            endOnly: true,
        }),
        interact.modifiers.restrict({
            restriction: _ => ({ top: 0, left: 0, bottom: 1, right: 1 }),
        }),
        interact.modifiers.restrict({
            restriction: _ => document.body,
        }),
        interact.modifiers.restrictSize({
            min: document.body,
            max: 'parent',
        }),
        interact.modifiers.restrictEdges({
            inner: document.body,
            outer: 'parent',
        }),
    ],
})
    .resizable({
    inertia: true,
});
// Selector context
const myList = document.querySelector('#my-list');
interact('li', {
    context: myList,
})
    .draggable({ /* ... */});
// Action options
const target = 'li';
interact(target)
    .draggable({
    max: 1,
    maxPerElement: 2,
    manualStart: true,
    modifiers: [],
    inertia: { /* ... */},
    autoScroll: { /* ... */},
    lockAxis: 'x' || 'y' || 'start',
    startAxis: 'x' || 'y',
})
    .resizable({
    max: 1,
    maxPerElement: 2,
    manualStart: true,
    modifiers: [],
    inertia: { /* ... */},
    autoScroll: { /* ... */},
    margin: 50,
    square: true || false,
    axis: 'x' || 'y',
})
    .gesturable({
    max: 1,
    maxPerElement: 2,
    manualStart: true,
    modifiers: [],
});
// autoscroll
const element = 'li';
interact(element)
    .draggable({
    autoScroll: true,
})
    .resizable({
    autoScroll: {
        container: document.body,
        margin: 50,
        distance: 5,
        interval: 10,
    },
});
// axis
interact(target).draggable({
    startAxis: 'x',
    lockAxis: 'y',
}).draggable({
    startAxis: 'xy',
    lockAxis: 'x',
});
interact(target).resizable({
    axis: 'x',
});
const handleEl = 'li';
interact(target).resizable({
    edges: {
        top: true,
        left: false,
        bottom: '.resize-s',
        right: handleEl,
    },
});
// resize invert
interact(target).resizable({
    edges: { bottom: true, right: true },
    invert: 'reposition',
});
// resize square
interact(target).resizable({
    squareResize: true,
});
// dropzone  accept
interact(target).dropzone({
    accept: '.drag0, .drag1',
});
// dropzone overlap
interact(target).dropzone({
    overlap: 0.25,
});
// dropzone checker
interact(target).dropzone({
    checker(_dragEvent, // related dragmove or dragend
    _event, // Touch, Pointer or Mouse Event
    dropped, // bool default checker result
    _dropzone, // dropzone Interactable
    dropElement, // dropzone elemnt
    _draggable, // draggable Interactable
    _draggableElement) {
        // only allow drops into empty dropzone elements
        return dropped && !dropElement.hasChildNodes();
    },
});
interact.dynamicDrop();
interact.dynamicDrop(false);
// Events
function listener(event) {
    const { type, pageX, pageY } = event;
    alert({ type, pageX, pageY });
}
interact(target)
    .on('dragstart', listener)
    .on('dragmove dragend', listener)
    .on(['resizemove', 'resizeend'], listener)
    .on({
    gesturestart: listener,
    gestureend: listener,
});
interact.on('resize', (event) => {
    const { rect, deltaRect } = event;
    alert(JSON.stringify({ rect, deltaRect }));
});
interact(target).resizable({
    listeners: [
        { start: listener, move: listener },
    ],
});
interact(target).draggable({
    listeners: { start: listener, end: listener },
});
interact(target).draggable({
    onstart: listener,
    onmove: listener,
    onend: listener,
});
interact.on(['dragmove', 'resizestart'], listener);
const dropTarget = 'div';
// Drop Events
interact(dropTarget)
    .dropzone({
    ondrop(event) {
        alert(event.relatedTarget.id +
            ' was dropped into ' +
            event.target.id);
    },
})
    .on('dropactivate', event => {
    event.target.classList.add('drop-activated');
});
interact(target).on('up', _event => { });
// fast click
interact('a[href]').on('tap', event => {
    window.location.href = event.currentTarget.href;
    event.preventDefault();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJhY3Rqcy10ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZXJhY3Rqcy10ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFEQUFxRDtBQUNyRCxPQUFPLFFBQVEsTUFBTSxZQUFZLENBQUE7QUFFakMsZ0JBQWdCO0FBQ2hCLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDdkIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2xCLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUVoQixRQUFRLENBQUMsa0JBQWtCLENBQUM7S0FDekIsU0FBUyxDQUFDO0lBQ1QsU0FBUyxFQUFFO1FBQ1QsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFDdEIsT0FBTyxFQUFFO2dCQUNQLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO2dCQUNsQixDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQzthQUM3QztZQUNELE1BQU0sRUFBRSxhQUFhO1lBQ3JCLGNBQWMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDaEMsT0FBTyxFQUFFLElBQUk7U0FDZCxDQUFDO1FBQ0YsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7WUFDMUIsT0FBTyxFQUFFO2dCQUNQLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO2dCQUNsQixDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQzthQUM3QztZQUNELE9BQU8sRUFBRSxJQUFJO1NBQ2QsQ0FBQztRQUNGLFFB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LENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQTtJQUUvQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUE7QUFDeEIsQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm9kZS9uby1leHRyYW5lb3VzLWltcG9ydFxuaW1wb3J0IGludGVyYWN0IGZyb20gJ2ludGVyYWN0anMnXG5cbi8vIEludGVyYWN0YWJsZXNcbmludGVyYWN0KGRvY3VtZW50LmJvZHkpXG5pbnRlcmFjdChkb2N1bWVudClcbmludGVyYWN0KHdpbmRvdylcblxuaW50ZXJhY3QoJy5kcmFnLWFuZC1yZXNpemUnKVxuICAuZHJhZ2dhYmxlKHtcbiAgICBtb2RpZmllcnM6IFtcbiAgICAgIGludGVyYWN0Lm1vZGlmaWVycy5zbmFwKHtcbiAgICAgICAgdGFyZ2V0czogW1xuICAgICAgICAgIHsgeDogMTAwLCB5OiAyMDAgfSxcbiAgICAgICAgICAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+ICh7IHg6IHggJSAyMCwgeSB9KSxcbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiAnc3RhcnRDb29yZHMnLFxuICAgICAgICByZWxhdGl2ZVBvaW50czogW3sgeDogMCwgeTogMSB9XSxcbiAgICAgICAgZW5kT25seTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnNuYXBTaXplKHtcbiAgICAgICAgdGFyZ2V0czogW1xuICAgICAgICAgIHsgeDogMTAwLCB5OiAyMDAgfSxcbiAgICAgICAgICAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+ICh7IHg6IHggJSAyMCwgeSB9KSxcbiAgICAgICAgXSxcbiAgICAgICAgZW5kT25seTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0UmVjdCh7XG4gICAgICAgIHJlc3RyaWN0aW9uOiAncGFyZW50JyxcbiAgICAgICAgZW5kT25seTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0KHtcbiAgICAgICAgcmVzdHJpY3Rpb246IF8gPT4gKHsgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDEsIHJpZ2h0OiAxIH0pLFxuICAgICAgfSksXG4gICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3Qoe1xuICAgICAgICByZXN0cmljdGlvbjogXyA9PiBkb2N1bWVudC5ib2R5LFxuICAgICAgfSksXG4gICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RTaXplKHtcbiAgICAgICAgbWluOiBkb2N1bWVudC5ib2R5LFxuICAgICAgICBtYXg6ICdwYXJlbnQnLFxuICAgICAgfSksXG4gICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RFZGdlcyh7XG4gICAgICAgIGlubmVyOiBkb2N1bWVudC5ib2R5LFxuICAgICAgICBvdXRlcjogJ3BhcmVudCcsXG4gICAgICB9KSxcbiAgICBdLFxuICB9KVxuICAucmVzaXphYmxlKHtcbiAgICBpbmVydGlhOiB0cnVlLFxuICB9KVxuXG4vLyBTZWxlY3RvciBjb250ZXh0XG5jb25zdCBteUxpc3Q6IEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNteS1saXN0JylcblxuaW50ZXJhY3QoJ2xpJywge1xuICBjb250ZXh0OiBteUxpc3QsXG59KVxuICAuZHJhZ2dhYmxlKHsgLyogLi4uICovIH0pXG5cbi8vIEFjdGlvbiBvcHRpb25zXG5jb25zdCB0YXJnZXQgPSAnbGknXG5pbnRlcmFjdCh0YXJnZXQpXG4gIC5kcmFnZ2FibGUoe1xuICAgIG1heCAgICAgICAgICA6IDEsXG4gICAgbWF4UGVyRWxlbWVudDogMixcbiAgICBtYW51YWxTdGFydCAgOiB0cnVlLFxuICAgIG1vZGlmaWVycyAgICA6IFtdLFxuICAgIGluZXJ0aWEgICAgICA6IHsvKiAuLi4gKi99LFxuICAgIGF1dG9TY3JvbGwgICA6IHsvKiAuLi4gKi99LFxuXG4gICAgbG9ja0F4aXMgICAgIDogJ3gnIHx8ICd5JyB8fCAnc3RhcnQnLFxuICAgIHN0YXJ0QXhpcyAgICA6ICd4JyB8fCAneScsXG4gIH0pXG4gIC5yZXNpemFibGUoe1xuICAgIG1heCAgICAgICAgICA6IDEsXG4gICAgbWF4UGVyRWxlbWVudDogMixcbiAgICBtYW51YWxTdGFydCAgOiB0cnVlLFxuICAgIG1vZGlmaWVycyAgICA6IFtdLFxuICAgIGluZXJ0aWEgICAgICA6IHsvKiAuLi4gKi99LFxuICAgIGF1dG9TY3JvbGwgICA6IHsvKiAuLi4gKi99LFxuICAgIG1hcmdpbiAgICAgICA6IDUwLFxuXG4gICAgc3F1YXJlICAgICAgIDogdHJ1ZSB8fCBmYWxzZSxcbiAgICBheGlzICAgICAgICAgOiAneCcgfHwgJ3knLFxuICB9KVxuICAuZ2VzdHVyYWJsZSh7XG4gICAgbWF4ICAgICAgICAgIDogMSxcbiAgICBtYXhQZXJFbGVtZW50OiAyLFxuICAgIG1hbnVhbFN0YXJ0ICA6IHRydWUsXG4gICAgbW9kaWZpZXJzICAgIDogW10sXG4gIH0pXG5cbi8vIGF1dG9zY3JvbGxcbmNvbnN0IGVsZW1lbnQgPSAnbGknXG5pbnRlcmFjdChlbGVtZW50KVxuICAuZHJhZ2dhYmxlKHtcbiAgICBhdXRvU2Nyb2xsOiB0cnVlLFxuICB9KVxuICAucmVzaXphYmxlKHtcbiAgICBhdXRvU2Nyb2xsOiB7XG4gICAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gICAgICBtYXJnaW46IDUwLFxuICAgICAgZGlzdGFuY2U6IDUsXG4gICAgICBpbnRlcnZhbDogMTAsXG4gICAgfSxcbiAgfSlcblxuLy8gYXhpc1xuaW50ZXJhY3QodGFyZ2V0KS5kcmFnZ2FibGUoe1xuICBzdGFydEF4aXM6ICd4JyxcbiAgbG9ja0F4aXM6ICd5Jyxcbn0pLmRyYWdnYWJsZSh7XG4gIHN0YXJ0QXhpczogJ3h5JyxcbiAgbG9ja0F4aXM6ICd4Jyxcbn0pXG5cbmludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAgYXhpczogJ3gnLFxufSlcblxuY29uc3QgaGFuZGxlRWwgPSAnbGknXG5pbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gIGVkZ2VzOiB7XG4gICAgdG9wICAgOiB0cnVlLCAgICAgICAvLyBVc2UgcG9pbnRlciBjb29yZHMgdG8gY2hlY2sgZm9yIHJlc2l6ZS5cbiAgICBsZWZ0ICA6IGZhbHNlLCAgICAgIC8vIERpc2FibGUgcmVzaXppbmcgZnJvbSBsZWZ0IGVkZ2UuXG4gICAgYm90dG9tOiAnLnJlc2l6ZS1zJywgLy8gUmVzaXplIGlmIHBvaW50ZXIgdGFyZ2V0IG1hdGNoZXMgc2VsZWN0b3JcbiAgICByaWdodCA6IGhhbmRsZUVsLCAgICAvLyBSZXNpemUgaWYgcG9pbnRlciB0YXJnZXQgaXMgdGhlIGdpdmVuIEVsZW1lbnRcbiAgfSxcbn0pXG5cbi8vIHJlc2l6ZSBpbnZlcnRcbmludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAgZWRnZXM6IHsgYm90dG9tOiB0cnVlLCByaWdodDogdHJ1ZSB9LFxuICBpbnZlcnQ6ICdyZXBvc2l0aW9uJyxcbn0pXG5cbi8vIHJlc2l6ZSBzcXVhcmVcbmludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAgc3F1YXJlUmVzaXplOiB0cnVlLFxufSlcblxuLy8gZHJvcHpvbmUgIGFjY2VwdFxuaW50ZXJhY3QodGFyZ2V0KS5kcm9wem9uZSh7XG4gIGFjY2VwdDogJy5kcmFnMCwgLmRyYWcxJyxcbn0pXG5cbi8vIGRyb3B6b25lIG92ZXJsYXBcbmludGVyYWN0KHRhcmdldCkuZHJvcHpvbmUoe1xuICBvdmVybGFwOiAwLjI1LFxufSlcblxuLy8gZHJvcHpvbmUgY2hlY2tlclxuaW50ZXJhY3QodGFyZ2V0KS5kcm9wem9uZSh7XG4gIGNoZWNrZXIgKFxuICAgIF9kcmFnRXZlbnQ6IEludGVyYWN0LkVsZW1lbnQsICAgICAgICAgICAvLyByZWxhdGVkIGRyYWdtb3ZlIG9yIGRyYWdlbmRcbiAgICBfZXZlbnQ6IEV2ZW50LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG91Y2gsIFBvaW50ZXIgb3IgTW91c2UgRXZlbnRcbiAgICBkcm9wcGVkOiBib29sZWFuLCAgICAgICAgICAgICAgICAgICAgICAgLy8gYm9vbCBkZWZhdWx0IGNoZWNrZXIgcmVzdWx0XG4gICAgX2Ryb3B6b25lOiBJbnRlcmFjdC5JbnRlcmFjdGFibGUsICAgICAgIC8vIGRyb3B6b25lIEludGVyYWN0YWJsZVxuICAgIGRyb3BFbGVtZW50OiBJbnRlcmFjdC5FbGVtZW50LCAgICAgICAgICAvLyBkcm9wem9uZSBlbGVtbnRcbiAgICBfZHJhZ2dhYmxlOiBJbnRlcmFjdC5JbnRlcmFjdGFibGUsICAgICAgLy8gZHJhZ2dhYmxlIEludGVyYWN0YWJsZVxuICAgIF9kcmFnZ2FibGVFbGVtZW50OiBJbnRlcmFjdC5FbGVtZW50KSB7ICAvLyBkcmFnZ2FibGUgZWxlbWVudFxuICAgIC8vIG9ubHkgYWxsb3cgZHJvcHMgaW50byBlbXB0eSBkcm9wem9uZSBlbGVtZW50c1xuICAgIHJldHVybiBkcm9wcGVkICYmICFkcm9wRWxlbWVudC5oYXNDaGlsZE5vZGVzKClcbiAgfSxcbn0pXG5cbmludGVyYWN0LmR5bmFtaWNEcm9wKClcbmludGVyYWN0LmR5bmFtaWNEcm9wKGZhbHNlKVxuXG4vLyBFdmVudHNcbmZ1bmN0aW9uIGxpc3RlbmVyIChldmVudCkge1xuICBjb25zdCB7IHR5cGUsIHBhZ2VYLCBwYWdlWSB9ID0gZXZlbnRcbiAgYWxlcnQoeyB0eXBlLCBwYWdlWCwgcGFnZVkgfSlcbn1cblxuaW50ZXJhY3QodGFyZ2V0KVxuICAub24oJ2RyYWdzdGFydCcsIGxpc3RlbmVyKVxuICAub24oJ2RyYWdtb3ZlIGRyYWdlbmQnLCBsaXN0ZW5lcilcbiAgLm9uKFsncmVzaXplbW92ZScsICdyZXNpemVlbmQnXSwgbGlzdGVuZXIpXG4gIC5vbih7XG4gICAgZ2VzdHVyZXN0YXJ0OiBsaXN0ZW5lcixcbiAgICBnZXN0dXJlZW5kOiBsaXN0ZW5lcixcbiAgfSlcblxuaW50ZXJhY3Qub24oJ3Jlc2l6ZScsIChldmVudDogSW50ZXJhY3QuUmVzaXplRXZlbnQpID0+IHtcbiAgY29uc3QgeyByZWN0LCBkZWx0YVJlY3QgfSA9IGV2ZW50XG4gIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHsgcmVjdCwgZGVsdGFSZWN0IH0pKVxufSlcblxuaW50ZXJhY3QodGFyZ2V0KS5yZXNpemFibGUoe1xuICBsaXN0ZW5lcnM6IFtcbiAgICB7IHN0YXJ0OiBsaXN0ZW5lciwgbW92ZTogbGlzdGVuZXIgfSxcbiAgXSxcbn0pXG5cbmludGVyYWN0KHRhcmdldCkuZHJhZ2dhYmxlKHtcbiAgbGlzdGVuZXJzOiB7IHN0YXJ0OiBsaXN0ZW5lciwgZW5kOiBsaXN0ZW5lciB9LFxufSlcblxuaW50ZXJhY3QodGFyZ2V0KS5kcmFnZ2FibGUoe1xuICBvbnN0YXJ0OiBsaXN0ZW5lcixcbiAgb25tb3ZlOiBsaXN0ZW5lcixcbiAgb25lbmQ6IGxpc3RlbmVyLFxufSlcblxuaW50ZXJhY3Qub24oWydkcmFnbW92ZScsICdyZXNpemVzdGFydCddLCBsaXN0ZW5lcilcblxuY29uc3QgZHJvcFRhcmdldCA9ICdkaXYnXG4vLyBEcm9wIEV2ZW50c1xuaW50ZXJhY3QoZHJvcFRhcmdldClcbiAgLmRyb3B6b25lKHtcbiAgICBvbmRyb3AgKGV2ZW50KSB7XG4gICAgICBhbGVydChldmVudC5yZWxhdGVkVGFyZ2V0LmlkICtcbiAgICAgICAgICAgICcgd2FzIGRyb3BwZWQgaW50byAnICtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5pZClcbiAgICB9LFxuICB9KVxuICAub24oJ2Ryb3BhY3RpdmF0ZScsIGV2ZW50ID0+IHtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJvcC1hY3RpdmF0ZWQnKVxuICB9KVxuXG5pbnRlcmFjdCh0YXJnZXQpLm9uKCd1cCcsIF9ldmVudCA9PiB7fSlcblxuLy8gZmFzdCBjbGlja1xuaW50ZXJhY3QoJ2FbaHJlZl0nKS5vbigndGFwJywgZXZlbnQgPT4ge1xuICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZlxuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbn0pXG4iXX0=