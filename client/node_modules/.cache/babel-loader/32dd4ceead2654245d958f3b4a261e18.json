{"remainingRequest":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js!/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Jobs/DOAN-TT/client/src/views/payment/NormalSigin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/Jobs/DOAN-TT/client/src/views/payment/NormalSigin.vue","mtime":1573548269957},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js","mtime":1571304325577},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js","mtime":1571304326381}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _typeof from \"/var/www/html/Jobs/DOAN-TT/client/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport _defineProperty from \"/var/www/html/Jobs/DOAN-TT/client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserIcon from \"../../components/UserIcon\";\nimport FileUpload from \"../../components/FileUpload\";\nimport Message from \"../../components/Message\";\nimport RadialProgressBar from 'vue-radial-progress';\nimport { VueCropper } from 'vue-cropper';\nimport { EventBus } from \"../../config/event-bus\";\nimport { mapGetters, mapState } from 'vuex';\nimport { signation } from \"../../mixins/signation\";\nimport { stampseal } from \"../../mixins/stampseal\";\nimport store from \"../../store/store\";\nimport { CHANGE_IMAGE_REQUEST, GET_USER_INFOR_REQUEST, SIGNATURE_GET, STAMP_GET } from \"../../store/actions.type\";\nimport { CHANGE_IMAGE_SUCCESS } from \"../../store/mutations.type\";\nimport 'cropperjs/dist/cropper.css';\nexport default {\n  name: \"NormalSign\",\n  components: {\n    FileUpload: FileUpload,\n    UserIcon: UserIcon,\n    Message: Message,\n    RadialProgressBar: RadialProgressBar,\n    VueCropper: VueCropper\n  },\n  mixins: [signation, stampseal],\n  data: function data() {\n    return {\n      uploadFiles: [],\n      files: [],\n      cropped: null,\n      avatar: \"../../../../img/avatars/default.png\",\n      sections: [{\n        label: 'Red section',\n        value: 45,\n        color: '#d4bcb2'\n      }],\n      completedSteps: 3,\n      totalSteps: 7,\n      model: false,\n      modelSrc: '',\n      crap: false,\n      previews: {},\n      lists: [{\n        img: 'https://qn-qn-kibey-static-cdn.app-echo.com/goodboy-weixin.PNG'\n      }, {\n        img: 'https://avatars2.githubusercontent.com/u/15681693?s=460&v=4'\n      }],\n      option: {\n        img: this.test && this.test.user && this.test.user.avatar ? this.test.user.avatar : '../../../../img/avatars/default.png',\n        size: 1,\n        full: false,\n        outputType: 'png',\n        canMove: true,\n        fixedBox: false,\n        original: false,\n        canMoveBox: true,\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 150,\n        centerBox: false,\n        high: true\n      },\n      show: true,\n      fixed: true,\n      fixedNumber: [1, 2]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    store.dispatch(GET_USER_INFOR_REQUEST).then(function (res) {\n      res && res.user && res.user.avatar ? _this.option.img = res.user.avatar : _this.option.img;\n    }).catch(function (err) {});\n    this.getSignatures().then(function (response) {\n      store.dispatch(SIGNATURE_GET, response.data.data);\n    }).catch(function (errors) {\n      console.log(errors.response);\n    });\n    this.getStamps().then(function (response) {\n      store.dispatch(STAMP_GET, response.data.data);\n    }).catch(function (errors) {\n      console.log(errors.response);\n    });\n  },\n  mounted: function mounted() {},\n  computed: _objectSpread({}, mapGetters(['getUser', 'getDefaultSignInitial', 'getDefaultStamp']), {\n    getAvatar: function getAvatar() {\n      return this.getUser.avatar || './img/avatars/default.png';\n    }\n  }),\n  methods: (_methods = {\n    changeAvatarImg: function changeAvatarImg() {\n      this.$refs.avatar_file.click();\n    },\n    onFileChange: function onFileChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files || !files.length) return;\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        this.avatar = e.target.result;\n      }.bind(this);\n\n      reader.readAsDataURL(files[0]);\n    },\n    uploadImg: function uploadImg(e, num) {\n      var _this2 = this;\n\n      var file = e.target.files[0];\n\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        return false;\n      }\n\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var data;\n\n        if (_typeof(e.target.result) === 'object') {\n          data = window.URL.createObjectURL(new Blob([e.target.result]));\n        } else {\n          data = e.target.result;\n        }\n\n        if (num === 1) {\n          _this2.option.img = data;\n        } else if (num === 2) {\n          _this2.example2.img = data;\n        }\n      };\n\n      reader.readAsArrayBuffer(file);\n    },\n    rotate: function rotate(rotationAngle) {\n      this.$refs['cropper'].rotate(rotationAngle);\n    },\n    saveAvatar: function saveAvatar(type) {\n      var _this3 = this;\n\n      this.$refs.cropper.getCropData(function (data) {\n        store.dispatch(CHANGE_IMAGE_REQUEST, {\n          avatar: data\n        }).then(function (res) {\n          _this3.option.img = res.user.avatar;\n\n          _this3.$refs['change-avatar-modal'].hide();\n        }).catch(function (err) {});\n      });\n    },\n    changeAvatar: function changeAvatar() {\n      this.$refs['change-avatar-modal'].show();\n    },\n    cancelAvatar: function cancelAvatar() {\n      this.$refs['change-avatar-modal'].hide();\n    },\n    upgradePlan: function upgradePlan() {\n      this.$router.push({\n        path: \"/payment/upgrade-plan\"\n      });\n    },\n    addFiles: function addFiles(files) {\n      var self = this;\n      files && files.length > 0 && files.map(function (file) {\n        self.uploadFiles.push(file);\n      });\n      EventBus.$emit('FILES_UPLOAD', this.uploadFiles);\n    }\n  }, _defineProperty(_methods, \"uploadImg\", function uploadImg(e, num) {\n    var _this4 = this;\n\n    var file = e.target.files[0];\n\n    if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n      return false;\n    }\n\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      var data;\n\n      if (_typeof(e.target.result) === 'object') {\n        data = window.URL.createObjectURL(new Blob([e.target.result]));\n      } else {\n        data = e.target.result;\n      }\n\n      if (num === 1) {\n        _this4.option.img = data;\n      } else if (num === 2) {\n        _this4.example2.img = data;\n      }\n    };\n\n    reader.readAsArrayBuffer(file);\n  }), _defineProperty(_methods, \"imgLoad\", function imgLoad(msg) {\n    console.log(msg);\n  }), _defineProperty(_methods, \"rotateLeft\", function rotateLeft() {\n    this.$refs.cropper.rotateLeft();\n  }), _defineProperty(_methods, \"rotateRight\", function rotateRight() {\n    this.$refs.cropper.rotateRight();\n  }), _defineProperty(_methods, \"realTime\", function realTime(data) {\n    this.previews = data;\n  }), _methods)\n};",{"version":3,"sources":["NormalSigin.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app flex-row\" ref=\"fileform\">\n    <div class=\"w-100 normal-sign\">\n      <div class=\"profile-header\">\n        <div class=\"user-happy\">\n          <!-- <img src=\"img/avatars/NoPath@2x.png\" /> -->\n          <div class=\"avatar-tag\">\n            <span v-if=\"!option.img\" >ST</span>\n            <div class=\"change-avatar\" v-on:click=\"changeAvatar()\">Change</div>\n              <img :src=\"getAvatar\" style=\"width: inherit;\" />\n\n          </div>\n          <div class=\"ml-3\">\n            <h1 class=\"happy\">{{ $t(\"home.title\") }}<div>{{ $t(\"home.subtitle\") }}</div></h1>\n            <span class=\"comments\">{{ $t(\"home.comments\") }}</span>\n          </div>\n        </div>\n        <div class=\"user-actions\">\n          <div class=\"user-action\">\n            <div class=\"action-numbers\">0</div>\n            <div class=\"action-type\">{{ $t(\"home.user.action.typeLeft\") }}</div>\n          </div>\n          <div class=\"user-action\">\n            <div class=\"action-numbers\">1</div>\n            <div class=\"action-type\">{{ $t(\"home.user.action.typeRight\") }}</div>\n          </div>\n          <div class=\"user-plan\">\n            <div>\n              <img src=\"img/payment/upgrad.png\" />\n            </div>\n            <div class=\"upgrade-content\">\n              <div class=\"upgrade-to\">{{ $t(\"home.user.plan.title\") }}</div>\n              <div class=\"comments\">{{ $t(\"home.user.plan.comments\") }}</div>\n              <b-link class=\"click-here\" v-on:click=\"upgradePlan()\">{{ $t(\"home.user.plan.click\") }}</b-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr class=\"mb-5\" />\n      <div class=\"row\">\n        <div class=\"col-md-3 pr-md-0\" v-if =\"false\">\n          <div class=\"content-card text-center\">\n            <div class=\"chart\">\n              <radial-progress-bar :diameter=\"160\"\n                       :completed-steps=\"completedSteps\"\n                       :total-steps=\"totalSteps\"\n                       stopColor=\"#e2ccc3\"\n                       startColor=\"#b59a90\"\n                       innerStrokeColor=\"#eeeae8\"\n                       :strokeWidth=\"8\"\n                       >\n                <div class=\"completion-rate\">{{ completedSteps }}/{{ totalSteps }}</div>\n              </radial-progress-bar>\n            </div>\n            <div class=\"completion\"> {{ $t(\"home.profile.title\") }}</div>\n            <div class=\"comments text-center mb-4\">\n              {{ $t(\"home.profile.comments\") }}\n            </div>\n            <b-button variant=\"primary\" class=\"mb-4\" block>{{ $t(\"home.profile.button\") }}</b-button>\n          </div>\n        </div>\n        <div class=\"col-md-5 pr-md-0\">\n          <div class=\"content-card sign-signature\">\n            <div class=\"header\">{{ $t(\"home.signature\") }}</div>\n            <div class=\"sign\">\n              <span v-if=\"getDefaultSignInitial\">\n                <img :src=\"getDefaultSignInitial.uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n              </span>\n              <span v-else>\n                <b-button variant=\"link\" block>\n                  <UserIcon icon=\"upload.svg\" />\n                </b-button>\n                <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n              </span>\n            </div>\n            <div class=\"text-right\">\n              <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n              <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-6 pr-1\">\n              <div class=\"content-card sign-signature\">\n                <div class=\"header\">{{ $t(\"home.initials\") }}</div>\n                <div class=\"sign initials mx-auto\">\n                  <span v-if=\"getDefaultSignInitial\">\n                    <img :src=\"getDefaultSignInitial.initial_uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n                  </span>\n                  <span v-else>\n                    <b-button variant=\"link\" block>\n                      <UserIcon icon=\"upload.svg\" />\n                    </b-button>\n                    <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n                  </span>\n                </div>\n                <div class=\"text-right\">\n                  <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n                  <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-6 pl-1\">\n              <div class=\"content-card sign-signature\">\n                <div class=\"header\">{{ $t(\"home.stamp\") }}</div>\n                <div class=\"sign initials mx-auto\">\n                  <span v-if=\"getDefaultStamp\">\n                    <img :src=\"getDefaultStamp.uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n                  </span>\n                  <span v-else>\n                    <b-button variant=\"link\" block>\n                      <UserIcon icon=\"upload.svg\" />\n                    </b-button>\n                    <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n                  </span>\n                </div>\n                <div class=\"text-right\">\n                  <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n                  <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-7\">\n          <FileUpload :files=\"uploadFiles\" @addLandingFiles=\"addFiles\"/>\n        </div>\n      </div>\n    </div>\n    <Message />\n    \n    <b-modal id=\"change-avatar-modal\" ref=\"change-avatar-modal\"\n       hide-footer centered size=\"xl\">\n      <div class=\"change-avatar-modal\">\n        <div class=\"title\">Change Profile Image</div>\n\n        <div class=\"img-control-btns\">\n          <input \n            type=\"file\" \n            ref=\"avatar_file\"\n            style=\"display: none\"  \n            @change=\"uploadImg($event, 1)\" />\n          <b-button variant=\"outline-primary\" v-on:click=\"changeAvatarImg()\">Other Image</b-button>\n          <div>\n            <i class=\"fa fa-rotate-left clickable-icon\" @click=\"rotateLeft\"/>\n            <i class=\"fa fa-rotate-right clickable-icon mx-3\" @click=\"rotateRight\"/>\n          </div>\n        </div> \n        <!-- <vue-cropper\n          ref=\"cropper\"\n          v-bind=\"options\"\n        /></vue-cropper> -->\n        <div class=\"cut\">\n          <vue-cropper \n            ref=\"cropper\" \n            :img=\"option.img\" \n            :src=\"option.img\"\n            :output-size=\"option.size\" \n            :output-type=\"option.outputType\" \n            :info=\"true\" :full=\"option.full\" \n            :fixed=\"fixed\"\n            :can-move=\"option.canMove\" \n            :can-move-box=\"option.canMoveBox\" \n            :fixed-box=\"option.fixedBox\" \n            :original=\"option.original\"\n            :auto-crop=\"option.autoCrop\" \n            :auto-crop-width=\"option.autoCropWidth\" \n            :auto-crop-height=\"option.autoCropHeight\" \n            :center-box=\"option.centerBox\"\n            @real-time=\"realTime\" :high=\"option.high\"\n            @img-load=\"imgLoad\" mode=\"cover\"\n          ></vue-cropper>\n        </div>\n        <div class=\"text-center\">\n          <b-button variant=\"outline-primary\" class=\"mr-3\" v-on:click=\"cancelAvatar()\" >Cancel</b-button>\n          <button type=\"submit\" class=\"btn btn-primary\" v-on:click=\"saveAvatar()\">Save changes</button>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport UserIcon from \"../../components/UserIcon\";\nimport FileUpload from \"../../components/FileUpload\";\nimport Message from \"../../components/Message\";\nimport RadialProgressBar from 'vue-radial-progress';\nimport { VueCropper } from 'vue-cropper'\nimport { EventBus } from \"../../config/event-bus\";\nimport { mapGetters, mapState } from 'vuex'\nimport { signation } from '../../mixins/signation'\nimport { stampseal } from '../../mixins/stampseal'\nimport store from '../../store/store'\nimport { \n  CHANGE_IMAGE_REQUEST, GET_USER_INFOR_REQUEST,\n  SIGNATURE_GET, STAMP_GET\n} from '../../store/actions.type'\nimport { CHANGE_IMAGE_SUCCESS } from '../../store/mutations.type'\n\nimport 'cropperjs/dist/cropper.css';\nexport default {\n  name: \"NormalSign\",\n  components: {\n    FileUpload,\n    UserIcon,\n    Message,\n    RadialProgressBar,\n    VueCropper\n  },\n  mixins: [signation, stampseal],\n  data() {\n    return {\n      uploadFiles: [],\n      files: [],\n      cropped: null,\n      avatar: \"../../../../img/avatars/default.png\",\n      sections: [\n        { label: 'Red section', value: 45, color: '#d4bcb2' },\n      ],\n      completedSteps: 3,\n      totalSteps: 7,\n      model: false,\n      modelSrc: '',\n      crap: false,\n      previews: {},\n      lists: [\n        {\n          img: 'https://qn-qn-kibey-static-cdn.app-echo.com/goodboy-weixin.PNG'\n        },\n        {\n          img: 'https://avatars2.githubusercontent.com/u/15681693?s=460&v=4'\n        }\n      ],\n      option: {\n        img: this.test && this.test.user && this.test.user.avatar ? this.test.user.avatar :'../../../../img/avatars/default.png',\n        size: 1,\n        full: false,\n        outputType: 'png',\n        canMove: true,\n        fixedBox: false,\n        original: false,\n        canMoveBox: true,\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 150,\n        centerBox: false,\n        high: true\n      },\n      show: true,\n      fixed: true,\n      fixedNumber: [1, 2]\n    }\n  },\n  created(){\n    store.dispatch(GET_USER_INFOR_REQUEST)\n    .then( res => {\n      res \n        && res.user \n          && res.user.avatar ? this.option.img = res.user.avatar : this.option.img;\n    })\n    .catch( err => {\n\n    });\n\n    this.getSignatures()\n      .then(response => {\n        store.dispatch(SIGNATURE_GET, response.data.data)\n      })\n      .catch(errors => {\n        console.log(errors.response)\n      });\n    this.getStamps()\n      .then(response => {\n        store.dispatch(STAMP_GET, response.data.data)\n      })\n      .catch(errors => {\n        console.log(errors.response)\n      });\n  },\n  mounted(){\n    \n  },\n  computed: {\n    ...mapGetters([\n      'getUser',\n      'getDefaultSignInitial',\n      'getDefaultStamp'\n    ]),\n    getAvatar() {\n      return this.getUser.avatar || './img/avatars/default.png'\n    }\n  },\n  methods: {\n    changeAvatarImg() {\n      this.$refs.avatar_file.click();\n    },\n    onFileChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files || !files.length) return;\n      var reader = new FileReader();\n      reader.onload = function(e) {\n        this.avatar = e.target.result;\n      }.bind(this);\n      reader.readAsDataURL(files[0]);\n    },\n    uploadImg(e, num) {\n      var file = e.target.files[0]\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        return false\n      }\n      var reader = new FileReader()\n      reader.onload = (e) => {\n        let data\n        if (typeof e.target.result === 'object') {\n          data = window.URL.createObjectURL(new Blob([e.target.result]))\n        } else {\n          data = e.target.result\n        }\n        if (num === 1) {\n          this.option.img = data\n        } else if (num === 2) {\n          this.example2.img = data\n        }\n      }\n      reader.readAsArrayBuffer(file)\n    },\n    rotate(rotationAngle) {\n      this.$refs['cropper'].rotate(rotationAngle);\n    },\n    saveAvatar(type) {\n      this.$refs.cropper.getCropData((data) => {\n        store.dispatch(CHANGE_IMAGE_REQUEST, {avatar: data})\n        .then( res => {\n          this.option.img = res.user.avatar;\n          this.$refs['change-avatar-modal'].hide();\n        })\n        .catch( err => {\n\n        });\n      })\n    },\n    changeAvatar() {\n      this.$refs['change-avatar-modal'].show();\n    },\n    cancelAvatar() {\n      this.$refs['change-avatar-modal'].hide();\n    },\n    upgradePlan() {\n      this.$router.push({ path: \"/payment/upgrade-plan\" });\n    },\n    addFiles(files) {\n      let self = this;\n      files &&\n        files.length > 0 &&\n        files.map(file => {\n          self.uploadFiles.push(file)\n        });\n      EventBus.$emit('FILES_UPLOAD', this.uploadFiles)\n    },\n    uploadImg(e, num) {\n      var file = e.target.files[0]\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        return false\n      }\n      var reader = new FileReader()\n      reader.onload = (e) => {\n        let data\n        if (typeof e.target.result === 'object') {\n          data = window.URL.createObjectURL(new Blob([e.target.result]))\n        } else {\n          data = e.target.result\n        }\n        if (num === 1) {\n          this.option.img = data\n        } else if (num === 2) {\n          this.example2.img = data\n        }\n      }\n      reader.readAsArrayBuffer(file)\n    },\n    imgLoad(msg) {\n      console.log(msg)\n    },\n    rotateLeft() {\n      this.$refs.cropper.rotateLeft()\n    },\n    rotateRight() {\n      this.$refs.cropper.rotateRight()\n    },\n    realTime(data) {\n      this.previews = data\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./NormalSigin.scss\";\n@import \"../document/AddDocuments.scss\";\n</style>\n\n"],"sourceRoot":"src/views/payment"}]}