{"remainingRequest":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js!/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Jobs/DOAN-TT/client/src/components/UserSidebarEx.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/Jobs/DOAN-TT/client/src/components/UserSidebarEx.vue","mtime":1573548262114},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js","mtime":1571304325577},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js","mtime":1571304326381}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/var/www/html/Jobs/DOAN-TT/client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport draggable from \"vuedraggable\";\nimport { userListDefaultColors } from \"../helpers\";\nimport { userSideBarHandle, prepareTools } from \"../helpers/prepareHandle\";\nimport { GET_RECIPIENTS, DELETE_ANNTATION } from \"../store/modules/document\";\nimport { omit } from \"lodash\";\nimport { EventBus } from \"../config/event-bus\";\nexport default {\n  name: \"UserSidebarEx\",\n  components: {\n    draggable: draggable\n  },\n  props: {\n    navItems: {\n      type: Array,\n      required: true,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    // const items = this.navItems.map(item => {\n    //   const children = prepareTools.map(tool => tool);\n    //   return {\n    //     ...item,\n    //     children: children\n    //   };\n    // });\n    return {\n      // items: items,\n      clientInfo: {},\n      items: []\n    };\n  },\n  computed: {\n    psSettings: function psSettings() {\n      // ToDo: find better rtl fix\n      return {\n        maxScrollbarLength: 200,\n        minScrollbarLength: 40,\n        suppressScrollX: getComputedStyle(document.querySelector(\"html\")).direction !== \"rtl\",\n        wheelPropagation: false,\n        interceptRailY: function interceptRailY(styles) {\n          return _objectSpread({}, styles, {\n            height: 0\n          });\n        }\n      };\n    }\n  },\n  methods: {\n    cloneTool: function cloneTool(item) {\n      this.$emit(\"dragTool\");\n      return _objectSpread({}, item);\n    },\n    addDataToElement: function addDataToElement(item, tool) {\n      return JSON.stringify(_objectSpread({}, omit(item, [\"children\"]), {\n        tool: _objectSpread({}, tool),\n        clientId: this.clientInfo.id\n      }));\n    }\n  },\n  mounted: function mounted() {\n    var vm = this;\n    vm.$store.dispatch(GET_RECIPIENTS, vm.$route.query.document_id).then(function (res) {\n      if (res.status && res.list) {\n        vm.items = res.list.map(function (item, key) {\n          var children = prepareTools.map(function (tool) {\n            return tool;\n          });\n          return _objectSpread({}, item, {\n            color: userListDefaultColors[key],\n            icon: \"fa fa-user\",\n            children: children\n          });\n        });\n        EventBus.$emit(\"recipientsList\", vm.items);\n        userSideBarHandle(function (annotation_id, draggable) {\n          vm.$store.dispatch(DELETE_ANNTATION, annotation_id).then(function (res) {\n            $(draggable).remove();\n          });\n        });\n      }\n    });\n    EventBus.$on(\"clientInfo\", function (clientInfo) {\n      vm.clientInfo = clientInfo;\n    });\n  }\n};",{"version":3,"sources":["UserSidebarEx.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"user-sidebar-nav remove-user-drag\">\n    <div v-for=\"(item, index) in items\" :key=\"index\" class=\"user-item\">\n      <div\n        class=\"user-name tool\"\n        v-b-toggle=\"`tools-collaps-${index}`\"\n        v-bind:style=\"{color: item.color}\"\n      >\n        <i class=\"fa fa-caret-right toggle-icon\" />\n        <i v-bind:class=\"item.icon\" />\n        {{item.name}}\n      </div>\n      <b-collapse\n        class=\"user-tool-pannel\"\n        :id=\"`tools-collaps-${index}`\"\n        role=\"tabpanel\"\n        accordion=\"tools-accordion\"\n        :visible=\"index===0\"\n      >\n        <div class=\"col\" style=\"padding: 0\">\n          <div v-for=\"(tool, index1) in item.children\" :key=\"index1\" class=\"tool\">\n            <span\n              :id=\"`list_drag_${index}_${index1}`\"\n              class=\"user-drag\"\n              :data-color=\"item.color\"\n              :data-tool=\"addDataToElement(item, tool)\"\n            >\n              <font-awesome-icon icon=\"stamp\" v-if=\"tool.icon == 'fas fa-stamp'\" style=\"margin-right: 10px;\"></font-awesome-icon>\n              <i v-bind:class=\"tool.icon\" v-else/>\n              <span>{{$t(tool.label)}}</span>\n            </span>\n          </div>\n        </div>\n\n        <!-- <draggable\n          :list=\"item.children\"\n          :clone=\"cloneTool\"\n          :group=\"{ name: 'people', pull: 'clone', put: false }\"\n        >\n          <div v-for=\"(tool, index1) in item.children\" :key=\"index1\" class=\"tool\">\n            <i v-bind:class=\"tool.tool_icon\" />\n            {{tool.tool_name}}\n          </div>\n        </draggable>-->\n      </b-collapse>\n    </div>\n  </div>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\nimport { userListDefaultColors } from \"../helpers\";\nimport { userSideBarHandle, prepareTools } from \"../helpers/prepareHandle\";\nimport { GET_RECIPIENTS, DELETE_ANNTATION } from \"../store/modules/document\";\nimport { omit } from \"lodash\";\nimport { EventBus } from \"../config/event-bus\";\n\nexport default {\n  name: \"UserSidebarEx\",\n  components: {\n    draggable\n  },\n  props: {\n    navItems: {\n      type: Array,\n      required: true,\n      default: () => []\n    }\n  },\n  data() {\n    // const items = this.navItems.map(item => {\n    //   const children = prepareTools.map(tool => tool);\n    //   return {\n    //     ...item,\n    //     children: children\n    //   };\n    // });\n    return {\n      // items: items,\n      clientInfo: {},\n      items: []\n    };\n  },\n  computed: {\n    psSettings: () => {\n      // ToDo: find better rtl fix\n      return {\n        maxScrollbarLength: 200,\n        minScrollbarLength: 40,\n        suppressScrollX:\n          getComputedStyle(document.querySelector(\"html\")).direction !== \"rtl\",\n        wheelPropagation: false,\n        interceptRailY: styles => ({ ...styles, height: 0 })\n      };\n    }\n  },\n  methods: {\n    cloneTool(item) {\n      this.$emit(\"dragTool\");\n      return {\n        ...item\n      };\n    },\n    addDataToElement(item, tool) {\n      return JSON.stringify({\n        ...omit(item, [\"children\"]),\n        tool: { ...tool },\n        clientId: this.clientInfo.id\n      });\n    }\n  },\n  mounted() {\n    let vm = this;\n    vm.$store\n      .dispatch(GET_RECIPIENTS, vm.$route.query.document_id)\n      .then(res => {\n        if (res.status && res.list) {\n          vm.items = res.list.map((item, key) => {\n            const children = prepareTools.map(tool => tool);\n            return {\n              ...item,\n              color: userListDefaultColors[key],\n              icon: \"fa fa-user\",\n              children: children\n            };\n          });\n          EventBus.$emit(\"recipientsList\", vm.items);\n          userSideBarHandle((annotation_id, draggable) => {\n            vm.$store.dispatch(DELETE_ANNTATION, annotation_id).then(res => {\n              $(draggable).remove();\n            });\n          });\n        }\n      });\n\n    EventBus.$on(\"clientInfo\", clientInfo => {\n      vm.clientInfo = clientInfo;\n    });\n  }\n};\n</script>\n<style lang=\"scss\">\n@import \"./UserSidebarEx.scss\";\n</style>\n"],"sourceRoot":"src/components"}]}