{"remainingRequest":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js!/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Jobs/DOAN-TT/client/src/views/payment/UpgradeToPlan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/Jobs/DOAN-TT/client/src/views/payment/UpgradeToPlan.vue","mtime":1573548269965},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/babel-loader/lib/index.js","mtime":1571304325577},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js","mtime":1571304326381}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.keys\";\nimport _typeof from \"/var/www/html/Jobs/DOAN-TT/client/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserIcon from \"../../components/UserIcon\";\nimport UserSelect from \"../../components/UserSelect\";\nimport country_region_list from \"country-region-data/data\";\nimport Vue from \"vue\";\nimport { DropDownListPlugin } from '@syncfusion/ej2-vue-dropdowns';\nVue.use(DropDownListPlugin);\nimport PayPal from 'vue-paypal-checkout';\nexport default {\n  name: \"UpgradeToPlan\",\n  components: {\n    UserIcon: UserIcon,\n    UserSelect: UserSelect,\n    PayPal: PayPal\n  },\n  data: function data() {\n    return {\n      promo_code: \"\",\n      edit_promo_code: false,\n      plan: null,\n      subscription: \"Monthly Subscription\",\n      country: \"Select country\",\n      countries: [],\n      region: \"Select region\",\n      month: \"Month\",\n      year: \"Year\",\n      years: [],\n      error_flag: false,\n      first_name: \"\",\n      last_name: \"\",\n      card_number: \"\",\n      cvv: \"\",\n      state: \"Select state\",\n      states: [],\n      billing_addr: \"\",\n      billing_addr1: \"\",\n      city: \"\",\n      zip_code: \"\",\n      street_addr: \"\",\n      amount: 0,\n      error_status: 0,\n      planmode: \"\",\n      paypal: {\n        sandbox: 'ARv33Gg8JreFiRa0QWebUQVdokycZo7cL6wLMYD204bjkSmaeMybGqZCfIFJ16Gq5rmV-q7iSjpIaux3',\n        production: '<production client id>'\n      },\n      credentials: {\n        sandbox: 'ARv33Gg8JreFiRa0QWebUQVdokycZo7cL6wLMYD204bjkSmaeMybGqZCfIFJ16Gq5rmV-q7iSjpIaux3',\n        production: '<production client id>'\n      },\n      showpaypal: false,\n      tabIndex: 0,\n      pricecomment: \"Per month\",\n      myItems: [{\n        \"name\": \"CoffeeSign Plan - \" + this.subscription,\n        \"description\": \"Subscription Plan\",\n        \"price\": this.amount,\n        \"quantity\": \"1\",\n        \"currency\": \"USD\"\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.plan = this.$route.query.plan;\n    this.id = this.$route.query.id;\n    this.planmode = this.$route.query.planmode;\n\n    if (!this.plan.title) {\n      this.$router.push({\n        path: \"/payment/upgrade-plan\"\n      });\n    }\n\n    if (this.planmode == \"annual\") {\n      this.subscription = \"Annual Subscription\";\n    } else {\n      this.subscription = \"Monthly Subscription\";\n    }\n\n    if (this.id == 1 && this.subscription == \"Monthly Subscription\") {\n      this.amount = 10;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Per month\";\n    }\n\n    if (this.id == 1 && this.subscription == \"Annual Subscription\") {\n      this.amount = 120;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Annual\";\n    }\n\n    if (this.id == 2 && this.subscription == \"Monthly Subscription\") {\n      this.amount = 25;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Per month\";\n    }\n\n    if (this.id == 2 && this.subscription == \"Annual Subscription\") {\n      this.amount = 300;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Annual\";\n    }\n\n    if (this.id == 3 && this.subscription == \"Monthly Subscription\") {\n      this.amount = 40;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Per month\";\n    }\n\n    if (this.id == 3 && this.subscription == \"Annual Subscription\") {\n      this.amount = 480;\n      this.plan.price = this.amount;\n      this.pricecomment = \"Annual\";\n    }\n\n    var dt = new Date();\n    var start = dt.getYear();\n\n    for (var i = start; i < start + 10; i++) {\n      this.years.push((i + 1900).toString());\n    }\n\n    this.states = [];\n    this.state = \"Select state\";\n    this.countries = [];\n    country_region_list.forEach(function (country) {\n      _this.countries.push(country.countryName);\n    });\n  },\n  methods: {\n    changeStateEx: function changeStateEx(arg) {\n      this.state = arg.value;\n    },\n    changeCountryEx: function changeCountryEx(arg) {\n      var _this2 = this;\n\n      this.country = arg.value;\n      this.states = [];\n      this.state = \"Select state\";\n      if (this.country == \"Select country\") return;\n      var region = country_region_list.find(function (item) {\n        return item.countryName == _this2.country;\n      });\n      region.regions.forEach(function (item) {\n        _this2.states.push(item.name);\n      });\n    },\n    showModal: function showModal() {\n      var _this3 = this;\n\n      /*\n      this.error_flag = true;\n      if (this.isError(this.first_name)) return;\n      if (this.isError(this.last_name)) return;\n      if (this.isError(this.card_number)) return;\n      if (this.isError(this.cvv)) return;\n      if (this.isError(this.state)) return;\n      if (this.isError(this.street_addr)) return;\n      if (this.isError(this.zip_code)) return;\n      this.$refs[\"done-modal\"].show();\n      */\n      if (this.id == 1 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 10;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 1 && this.subscription == \"Annual Subscription\") {\n        this.amount = 120;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n\n      if (this.id == 2 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 25;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 2 && this.subscription == \"Annual Subscription\") {\n        this.amount = 300;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n\n      if (this.id == 3 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 40;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 3 && this.subscription == \"Annual Subscription\") {\n        this.amount = 480;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n\n      if (this.tabIndex == 0) {\n        console.log(\"I am in card\");\n        this.error_flag = true;\n        this.showpaypal = false;\n\n        if (this.card_number.length != 0 && this.month != 'Month' && this.year != 'Year' && this.cvv.length != 0 && this.billing_addr != 0 && this.city != 0 && this.state != 'Select state' && this.country != 'Select country' && this.zip_code.length != 0) {\n          var formdata = new FormData();\n          formdata.append('cardnumber', this.card_number);\n          formdata.append('month', this.month);\n          formdata.append('year', this.year);\n          formdata.append('cvv', this.cvv);\n          formdata.append('street_address', this.billing_addr);\n          formdata.append('street_address_optional', this.billing_addr1);\n          formdata.append('city', this.city);\n          formdata.append('state', this.state);\n          formdata.append('country', this.country);\n          formdata.append('zip_code', this.zip_code);\n          formdata.append('amount', this.amount);\n          formdata.append('name_on_card', \"test name\");\n          formdata.append('userid', \"user1\");\n          this.$refs[\"process-modal\"].show();\n          this.$http.post(this.$api_url + '/cardpayment', formdata, {\n            headers: {\n              'Authorization': null\n            }\n          }).then(function (response) {\n            //alert(JSON.stringify(response.data));\n            if (response.data['status'] == '1') {\n              console.log(response.data);\n\n              _this3.$refs[\"done-modal\"].show();\n\n              _this3.$refs[\"process-modal\"].hide();\n            } else {\n              _this3.$refs[\"failed-modal\"].show();\n\n              _this3.$refs[\"process-modal\"].hide();\n\n              console.log('there was an error: ', response.data);\n            }\n          }).catch(function (error) {\n            // Error\n            if (error.response) {// The request was made and the server responded with a status code\n              //alert(\"There is error. Please try again.\")\n            } else if (error.request) {\n              // The request was made but no response was received\n              console.log(error.request); //alert(\"No connection to server. Please check your internet connectivity.\");\n            } else {\n              // Something happened in setting up the request that triggered an Error\n              console.log('Error', error.message); //alert(\"unknown error. please try again.\")\n            }\n\n            console.log(error.config);\n          });\n        }\n      }\n\n      if (this.tabIndex == 1) {\n        console.log(\"I am in paypal\");\n        this.showpaypal = true;\n      }\n    },\n    isError: function isError(value) {\n      return this.error_flag && (value === undefined || value === null || _typeof(value) === \"object\" && Object.keys(value).length === 0 || typeof value === \"string\" && value.trim().length === 0 || this.cvv.trim().length > 4);\n    },\n    upgradeMyPlan: function upgradeMyPlan() {\n      this.$router.push({\n        path: \"/landing\",\n        query: {\n          id: this.id\n        }\n      });\n    },\n    updateprice: function updateprice() {\n      if (this.id == 1 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 10;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 1 && this.subscription == \"Annual Subscription\") {\n        this.amount = 120;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n\n      if (this.id == 2 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 25;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 2 && this.subscription == \"Annual Subscription\") {\n        this.amount = 300;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n\n      if (this.id == 3 && this.subscription == \"Monthly Subscription\") {\n        this.amount = 40;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Per month\";\n      }\n\n      if (this.id == 3 && this.subscription == \"Annual Subscription\") {\n        this.amount = 480;\n        this.plan.price = this.amount;\n        this.pricecomment = \"Annual\";\n      }\n    },\n    payment_completed_cb: function payment_completed_cb(res) {\n      this.$refs[\"done-modal\"].show();\n      console.log(res);\n      console.log('the id is ', res.id);\n      console.log('the amount is ', res.transactions[0]['amount']['total']);\n      var formdata = new FormData();\n      formdata.append('amount', res.transactions[0]['amount']['total']);\n      formdata.append('transaction_id', res.id);\n      formdata.append('userid', \"user1\");\n      this.$http.post(this.$api_url + '/paypalpayment', formdata, {\n        headers: {\n          'Authorization': null\n        }\n      }).then(function (response) {\n        //alert(JSON.stringify(response.data));\n        if (response.data['status'] == '1') {\n          console.log(response.data);\n        } else {\n          console.log('there was an error: ', response.data);\n        }\n      }).catch(function (error) {\n        // Error\n        if (error.response) {// The request was made and the server responded with a status code\n          //alert(\"There is error. Please try again.\")\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request); //alert(\"No connection to server. Please check your internet connectivity.\");\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log('Error', error.message); //alert(\"unknown error. please try again.\")\n        }\n\n        console.log(error.config);\n      });\n    },\n    payment_authorized_cb: function payment_authorized_cb(res) {\n      console.log(res);\n    },\n    payment_cancelled_cb: function payment_cancelled_cb(res) {\n      this.$refs[\"cancelled-modal\"].show();\n      console.log(res);\n    },\n    show_promo_price: function show_promo_price() {\n      var _this4 = this;\n\n      var promo_value = document.getElementById(\"promo_code\").value;\n\n      if (promo_value == '123' && document.getElementById(\"promocode_used\").value == '0') {\n        this.amount = this.amount - 10 * this.amount / 100;\n        this.plan.price = this.amount;\n        document.getElementById(\"promocode_used\").value = \"1\";\n        setTimeout(function () {\n          _this4.$refs[\"promocode-modal\"].show();\n        }, 800);\n      } else {\n        setTimeout(function () {\n          _this4.$refs[\"fpromocode-modal\"].show();\n        }, 800);\n      }\n    }\n  }\n};",{"version":3,"sources":["UpgradeToPlan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app flex-row\">\n    <div class=\"w-100 position-relative\">\n      <div class=\"plan-header\">\n        <h1>Upgrade To {{plan.title}}</h1>\n      </div>\n      <hr class=\"mb-4\" />\n      <div class=\"row plans\">\n        <div class=\"col-12 col-sm-6 col-md-8 col-lg-8\">\n          <div class=\"content-card\">\n            <div class=\"content-header\">Payment information</div>\n            <b-tabs v-model=\"tabIndex\">\n              <b-tab title=\"Card\" active>\n                <div class=\"row\">\n                  <div class=\"col-12 col-lg-6\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">Credit/debit card number</label>\n                      <b-input-group\n                        class=\"pl-3\"\n                        v-bind:class=\"{'input-error': isError(card_number)}\"\n                      >\n                        <b-form-input placeholder=\"**** **** **** 5432\" v-model=\"card_number\"></b-form-input>\n                        <b-input-group-prepend class=\"mr-0\">\n                          <b-input-group-text class=\"h-auto\">\n                            <UserIcon icon=\"mastercard.svg\" />\n                          </b-input-group-text>\n                        </b-input-group-prepend>\n                      </b-input-group>\n                      <div v-if=\"isError(card_number)\" class=\"error-text\">Please input valid card number</div>\n                    </div>\n                  </div>\n                  <div class=\"col-12 col-lg-6 pl-lg-0\">\n                    <div class=\"d-flex align-items-start\">\n                      <div class=\"form-group\">\n                        <label for=\"name\">Expiration month</label>\n                        <div class=\"d-flex align-items-center\">\n                          <UserSelect\n                            v-bind:value=\"month\"\n                            v-bind:items=\"['Month', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']\"\n                            @changeValue=\"month=$event\"\n                            class=\"mb-0\"\n                            style=\"min-width:105px\"\n                            v-bind:class=\"{'input-error': month == 'Month' && error_flag}\"\n                          />\n                          <span class=\"mx-2\">/</span>\n                        </div>\n                        <div v-if=\"month == 'Month' && error_flag\" class=\"error-text\">Select a month</div>\n                      </div>\n\n                      <div class=\"form-group mr-3\">\n                        <label for=\"name\">Expiration year</label>\n                        <UserSelect\n                          v-bind:value=\"year\"\n                          v-bind:items=\"years\"\n                          @changeValue=\"year=$event\"\n                          class=\"mb-0\"\n                          style=\"min-width:95px\"\n                          v-bind:class=\"{'input-error': year == 'Year' && error_flag}\"\n                        />\n                        <div v-if=\"year == 'Year' && error_flag\" class=\"error-text\">Select a year</div>\n                      </div>\n                      <div class=\"form-group\">\n                        <label for=\"name\">CVV</label>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          id=\"cvv\"\n                          placeholder=\"Your CVV\"\n                          name=\"cvv\"\n                          v-bind:class=\"{'input-error': isError(cvv)}\"\n                          v-model=\"cvv\"\n                        />\n                        <div v-if=\"isError(cvv)\" class=\"error-text\">Please input valid CVV</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </b-tab>\n              <b-tab title=\"PAYPAL\">\n                <label class=\"mr-3\">Pay with PayPal</label>\n                <!--\n                <a href=\"https://www.paypal.com\">\n                  <img src=\"img/icons/paypal.png\" />\n                </a>\n                -->\n                <PayPal v-if=\"showpaypal\" :amount=\"this.amount\" currency=\"USD\" :client=\"credentials\" env=\"sandbox\" @payment-authorized=\"payment_authorized_cb\" @payment-completed=\"payment_completed_cb\" @payment-cancelled=\"payment_cancelled_cb\"></PayPal>\n              </b-tab>\n            </b-tabs>\n          </div>\n          <div class=\"content-card\">\n            \n            <div v-if=\"tabIndex == 0\" class=\"content-header\">Billing information</div>\n            <div v-if=\"tabIndex == 1\" class=\"content-header\">Please click on \"Upgrade my plan\" button to continue payment with PayPal</div>\n            <div v-if=\"tabIndex == 0\" class=\"form-group\">\n              <label for=\"name\">Country</label>\n              <div v-bind:class=\"{'input-error': (country == '' || country == 'Select country') && error_flag}\">\n                <ejs-dropdownlist id='dropdownlist' \n                  :dataSource=\"countries\"\n                  :change = \"changeCountryEx\"\n                  placeholder = \"Select country\"\n                  >\n                </ejs-dropdownlist>\n              </div>\n              <div v-if=\"(country == '' || country == 'Select country') && error_flag\" class=\"error-text\">Please select a country</div>\n            </div>\n            <div v-if=\"tabIndex == 0\" class=\"form-group\">\n              <label for=\"name\">Street address</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"billing_addr\"\n                placeholder=\"Street address\"\n                name=\"billing_addr\"\n                v-bind:class=\"{'input-error': isError(billing_addr)}\"\n                v-model=\"billing_addr\"\n              />\n              <div v-if=\"isError(billing_addr)\" class=\"error-text\">Please enter a street address</div>\n            </div>\n            <div v-if=\"tabIndex == 0\" class=\"form-group\">\n              <label for=\"name\">Street address line 2</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"billing_addr1\"\n                placeholder=\"Enter your street address line 2 (Optional)\"\n                name=\"billing_addr1\"\n                v-model=\"billing_addr1\"\n              />\n            </div>\n            <div v-if=\"tabIndex == 0\" class=\"row\">\n              <div class=\"col-sm-4\">\n                <div class=\"form-group\">\n                  <label for=\"name\">Zip code</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"zip_code\"\n                    placeholder=\"Zip code\"\n                    name=\"zip_code\"\n                    v-bind:class=\"{'input-error': isError(zip_code)}\"\n                    v-model=\"zip_code\"\n                  />\n                  <div v-if=\"isError(zip_code)\" class=\"error-text\">Please enter a valid zip Code</div>\n                </div>\n              </div>\n              <div class=\"col-sm-8\">\n                <div class=\"form-group\">\n                  <label for=\"name\">City</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"city\"\n                    placeholder=\"City\"\n                    name=\"city\"\n                    v-bind:class=\"{'input-error': isError(city)}\"\n                    v-model=\"city\"\n                  />\n                  <div v-if=\"isError(city)\" class=\"error-text\">Please enter a valid city</div>\n                </div>\n              </div>\n              <div class=\"col-sm-12\">\n                <div class=\"form-group\">\n                  <label for=\"name\">State</label>\n                  <div v-bind:class=\"{'input-error': (state == '' || state == 'Select state') && error_flag}\">\n                    <ejs-dropdownlist id='dropdownlist-state' \n                      :dataSource=\"states\"\n                      :change = \"changeStateEx\"\n                      placeholder = \"Select state\"\n                      >\n                    </ejs-dropdownlist>\n                  </div>\n                  <div v-if=\"(state == '' || state == 'Select state') && error_flag\" class=\"error-text\">Please select a state</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\n          <div class=\"plan-card content-card\">\n            <div class=\"content-header\">You're buying:</div>\n            <div class=\"plan-card-head\">\n              <div class=\"plan-title\">\n                {{plan.title}}\n                <img\n                  v-bind:src=\"'img/icons/'+plan.title+'.png'\"\n                  width=\"32\"\n                  height=\"32\"\n                  class=\"ml-3\"\n                />\n              </div>\n              <div>\n                <span class=\"comments\">{{pricecomment}}</span>\n                <span class=\"price\">\n                  ${{plan.price}}\n                  <sup>.00</sup>\n                </span>\n              </div>\n            </div>\n            <UserSelect\n              v-bind:value=\"subscription\"\n              v-bind:items=\"['Monthly Subscription', 'Annual Subscription']\"\n              @changeValue=\"subscription=$event\"\n              class=\"mb-0 mt-3\"\n              style=\"min-width:105px\"\n            />\n            <div class=\"d-flex-align-center justify-content-between mt-2\" v-if=\"!edit_promo_code\">\n              <span>Promo Code: <strong>{{promo_code}}</strong></span>\n              <b-button variant=\"link\" v-on:click=\"edit_promo_code=true\">{{promo_code.length==0?'Add Code': 'Edit Code'}}</b-button>\n            </div>\n            <div class=\"mt-2\" v-if=\"edit_promo_code\">\n              <div class=\"form-group\">\n                <label for=\"name\">Promo code</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"promo_code\"\n                  placeholder=\"Promo Code\"\n                  name=\"promo_code\"\n                  v-model=\"promo_code\"\n                />\n              </div>\n              <div class=\"text-center\">\n                <b-button variant=\"primary\" v-on:click=\"edit_promo_code=false; show_promo_price();\" class=\"mr-3\">Add Code</b-button>\n                <b-button variant=\"link\" v-on:click=\"edit_promo_code=false\">Cancel</b-button>\n              </div>\n            </div>\n            \n\n            <hr />\n            <div class=\"text-center\">\n              <div class=\"limit-for-sending\">Limit for Sending for Signature</div>\n              <div class=\"limit-times\">{{plan.limit}}</div>\n            </div>\n            <hr />\n            <b-button block variant=\"other\" v-on:click=\"showModal()\">Upgrade my plan!</b-button>\n            <div class=\"mt-3\">\n              By clicking \"Upgrade my plan!\" you agree to the\n              <b-button variant=\"link\" class=\"p-0\">Terms and Conditions</b-button>.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <b-modal id=\"done-modal\" ref=\"done-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <img src=\"img/icons/send.svg\" class=\"mb-4\" />\n        <div class=\"you-done\">Your plan is upgraded</div>\n        <div\n          class=\"comments text-center\"\n          style=\"margin-bottom:30px\"\n        >Thank You for upgrading to {{plan.title}}! You can always downgrade when you are not in needs any more.</div>\n        <button type=\"submit\" class=\"btn btn-primary\" v-on:click=\"upgradeMyPlan()\">Get start</button>\n      </div>\n    </b-modal>\n\n    <b-modal id=\"process-modal\" ref=\"process-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <div class=\"you-done\">Payment for ${{amount}}</div>\n        <div\n          class=\"comments text-center\"\n          style=\"margin-bottom:30px\"\n        >Your request is being processed. Please standby.</div>\n      </div>\n    </b-modal>\n\n    <b-modal id=\"failed-modal\" ref=\"failed-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <div class=\"you-done\">Payment Failed!!</div>\n        <div\n          class=\"comments text-center\"\n          style=\"margin-bottom:30px\"\n        >Please check your information and try again.</div>\n      </div>\n    </b-modal>\n\n    <b-modal id=\"cancelled-modal\" ref=\"cancelled-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <div class=\"you-done\">Payment cancelled!</div>\n      </div>\n    </b-modal>\n\n    <b-modal id=\"promocode-modal\" ref=\"promocode-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <div class=\"you-done\">Promo Code Added Successfully</div>\n        <div\n          class=\"comments text-center\"\n          style=\"margin-bottom:30px\"\n        >You have 10% discount now.</div>\n      </div>\n    </b-modal>\n\n    <b-modal id=\"fpromocode-modal\" ref=\"fpromocode-modal\" hide-footer>\n      <div class=\"done-modal\">\n        <div class=\"you-done\">Promo Code Invalid!</div>\n        <div\n          class=\"comments text-center\"\n          style=\"margin-bottom:30px\"\n        >Please check your promo code and try again.</div>\n      </div>\n    </b-modal>\n\n    <input type=\"hidden\" id=\"promocode_used\" value=\"0\"/>\n  </div>\n</template>\n\n<script>\nimport UserIcon from \"../../components/UserIcon\";\nimport UserSelect from \"../../components/UserSelect\";\nimport country_region_list from \"country-region-data/data\";\nimport Vue from \"vue\";\nimport { DropDownListPlugin  } from '@syncfusion/ej2-vue-dropdowns';\nVue.use(DropDownListPlugin);\nimport PayPal from 'vue-paypal-checkout'\n\nexport default {\n  name: \"UpgradeToPlan\",\n  components: {\n    UserIcon,\n    UserSelect,\n    PayPal\n  },\n  data() {\n    return {\n      promo_code: \"\",\n      edit_promo_code: false,\n      plan: null,\n      subscription: \"Monthly Subscription\",\n      country: \"Select country\",\n      countries: [],\n      region: \"Select region\",\n      month: \"Month\",\n      year: \"Year\",\n      years: [],\n\n      error_flag: false,\n      first_name: \"\",\n      last_name: \"\",\n      card_number: \"\",\n      cvv: \"\",\n      state: \"Select state\",\n      states: [],\n      billing_addr: \"\",\n      billing_addr1: \"\",\n      city: \"\",\n      zip_code: \"\",\n      street_addr: \"\",\n      amount: 0,\n      error_status: 0,\n      planmode: \"\",\n      paypal: {\n        sandbox: 'ARv33Gg8JreFiRa0QWebUQVdokycZo7cL6wLMYD204bjkSmaeMybGqZCfIFJ16Gq5rmV-q7iSjpIaux3',\n        production: '<production client id>'\n      },\n      credentials: {\n        sandbox: 'ARv33Gg8JreFiRa0QWebUQVdokycZo7cL6wLMYD204bjkSmaeMybGqZCfIFJ16Gq5rmV-q7iSjpIaux3',\n        production: '<production client id>'\n      },\n      showpaypal: false,\n      tabIndex: 0,\n      pricecomment: \"Per month\",\n      myItems: [{ \"name\": \"CoffeeSign Plan - \"+this.subscription, \"description\": \"Subscription Plan\", \"price\": this.amount, \"quantity\": \"1\", \"currency\": \"USD\"}]\n    };\n  },\n  created() {\n    this.plan = this.$route.query.plan;\n    this.id = this.$route.query.id;\n    this.planmode = this.$route.query.planmode;\n    if (!this.plan.title) {\n      this.$router.push({\n        path: \"/payment/upgrade-plan\"\n      });\n    }\n    if (this.planmode==\"annual\") {\n      this.subscription = \"Annual Subscription\"\n    } else {\n      this.subscription = \"Monthly Subscription\"\n    }\n    if (this.id==1 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 10\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n    }\n    if (this.id==1 && this.subscription==\"Annual Subscription\") {\n      this.amount = 120\n      this.plan.price = this.amount\n      this.pricecomment = \"Annual\"\n    }\n    if (this.id==2 && this.subscription==\"Monthly Subscription\") {\n      this.amount = 25\n      this.plan.price = this.amount\n      this.pricecomment = \"Per month\"\n    }\n    if (this.id==2 && this.subscription==\"Annual Subscription\") {\n      this.amount = 300\n      this.plan.price = this.amount\n      this.pricecomment = \"Annual\"\n    }\n    if (this.id==3 && this.subscription==\"Monthly Subscription\") {\n      this.amount = 40\n      this.plan.price = this.amount\n      this.pricecomment = \"Per month\"\n    }\n    if (this.id==3 && this.subscription==\"Annual Subscription\") {\n      this.amount = 480\n      this.plan.price = this.amount\n      this.pricecomment = \"Annual\"\n    }\n    const dt = new Date();\n    const start = dt.getYear();\n    for (let i = start; i < start + 10; i++) {\n      this.years.push((i + 1900).toString());\n    }\n    \n    this.states = [];\n    this.state = \"Select state\";\n    this.countries = [];\n    country_region_list.forEach(country => {\n      this.countries.push(country.countryName);\n    });\n  },\n  methods: {\n    changeStateEx(arg) {\n      this.state = arg.value;\n    },\n    changeCountryEx(arg) {\n      this.country = arg.value;\n      this.states = [];\n      this.state = \"Select state\";\n      if(this.country == \"Select country\") return;\n      const region = country_region_list.find(item => (item.countryName == this.country));\n      region.regions.forEach(item => {\n        this.states.push(item.name);\n      });\n    },\n    showModal() {\n      /*\n      this.error_flag = true;\n      if (this.isError(this.first_name)) return;\n      if (this.isError(this.last_name)) return;\n      if (this.isError(this.card_number)) return;\n      if (this.isError(this.cvv)) return;\n      if (this.isError(this.state)) return;\n      if (this.isError(this.street_addr)) return;\n      if (this.isError(this.zip_code)) return;\n      this.$refs[\"done-modal\"].show();\n      */\n      if (this.id==1 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 10\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==1 && this.subscription==\"Annual Subscription\") {\n        this.amount = 120\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n      if (this.id==2 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 25\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==2 && this.subscription==\"Annual Subscription\") {\n        this.amount = 300\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n      if (this.id==3 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 40\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==3 && this.subscription==\"Annual Subscription\") {\n        this.amount = 480\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n      \n      if (this.tabIndex==0) {\n        console.log(\"I am in card\");\n        this.error_flag = true;\n        this.showpaypal = false;\n        if (this.card_number.length != 0 && this.month != 'Month' && this.year != 'Year' && this.cvv.length != 0 && this.billing_addr != 0 && this.city != 0 && this.state != 'Select state' && this.country != 'Select country' && this.zip_code.length != 0) {\n        const formdata = new FormData();\n        formdata.append('cardnumber', this.card_number);\n        formdata.append('month', this.month);\n        formdata.append('year', this.year);\n        formdata.append('cvv', this.cvv);\n        formdata.append('street_address', this.billing_addr);\n        formdata.append('street_address_optional', this.billing_addr1);\n        formdata.append('city', this.city);\n        formdata.append('state', this.state);\n        formdata.append('country', this.country);\n        formdata.append('zip_code', this.zip_code);\n        formdata.append('amount', this.amount);\n        formdata.append('name_on_card', \"test name\");\n        formdata.append('userid', \"user1\");\n        this.$refs[\"process-modal\"].show();\n        this.$http.post(this.$api_url+'/cardpayment', formdata, { headers: { 'Authorization': null } })\n                  .then((response) => {\n                  //alert(JSON.stringify(response.data));\n                  if (response.data['status']=='1') {\n                      console.log(response.data);\n                      this.$refs[\"done-modal\"].show();\n                      this.$refs[\"process-modal\"].hide();\n                      } else {\n                        this.$refs[\"failed-modal\"].show();\n                        this.$refs[\"process-modal\"].hide();\n                        console.log('there was an error: ', response.data);\n                      }\n                  })\n                  .catch((error) => {\n                      // Error\n                      if (error.response) {\n                          // The request was made and the server responded with a status code\n                          //alert(\"There is error. Please try again.\")\n                      } else if (error.request) {\n                          // The request was made but no response was received\n                          console.log(error.request)\n                          //alert(\"No connection to server. Please check your internet connectivity.\");\n                      } else {\n                          // Something happened in setting up the request that triggered an Error\n                          console.log('Error', error.message);\n                          //alert(\"unknown error. please try again.\")\n                      }\n                      console.log(error.config)\n              });\n          }    \n      }\n\n      if (this.tabIndex==1) {\n        console.log(\"I am in paypal\");\n        this.showpaypal = true;\n      }\n    },\n    isError(value) {\n      return (\n        this.error_flag &&\n        (value === undefined ||\n          value === null || \n          (typeof value === \"object\" && Object.keys(value).length === 0) ||\n          (typeof value === \"string\" && value.trim().length === 0) || (this.cvv.trim().length>4))\n      );\n    },\n    upgradeMyPlan() {\n      this.$router.push({\n        path: \"/landing\",\n        query: { id: this.id }\n      });\n    },\n    updateprice() {\n      if (this.id==1 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 10\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==1 && this.subscription==\"Annual Subscription\") {\n        this.amount = 120\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n      if (this.id==2 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 25\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==2 && this.subscription==\"Annual Subscription\") {\n        this.amount = 300\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n      if (this.id==3 && this.subscription==\"Monthly Subscription\") {\n        this.amount = 40\n        this.plan.price = this.amount\n        this.pricecomment = \"Per month\"\n      }\n      if (this.id==3 && this.subscription==\"Annual Subscription\") {\n        this.amount = 480\n        this.plan.price = this.amount\n        this.pricecomment = \"Annual\"\n      }\n    },\n    payment_completed_cb(res){\n      this.$refs[\"done-modal\"].show();\n      console.log(res);  \n      console.log('the id is ', res.id);\n      console.log('the amount is ', res.transactions[0]['amount']['total']);\n      const formdata = new FormData();\n      formdata.append('amount', res.transactions[0]['amount']['total']);\n      formdata.append('transaction_id', res.id);\n      formdata.append('userid', \"user1\");\n      this.$http.post(this.$api_url+'/paypalpayment', formdata, { headers: { 'Authorization': null } })\n                .then((response) => {\n                //alert(JSON.stringify(response.data));\n                if (response.data['status']=='1') {\n                    console.log(response.data);\n                    } else {\n                      console.log('there was an error: ', response.data);\n                    }\n                })\n                .catch((error) => {\n                    // Error\n                    if (error.response) {\n                        // The request was made and the server responded with a status code\n                        //alert(\"There is error. Please try again.\")\n                    } else if (error.request) {\n                        // The request was made but no response was received\n                        console.log(error.request)\n                        //alert(\"No connection to server. Please check your internet connectivity.\");\n                    } else {\n                        // Something happened in setting up the request that triggered an Error\n                        console.log('Error', error.message);\n                        //alert(\"unknown error. please try again.\")\n                    }\n                    console.log(error.config)\n            });\n    },\n    payment_authorized_cb(res){\n    console.log(res); \n    },\n    payment_cancelled_cb(res){\n        this.$refs[\"cancelled-modal\"].show();\n        console.log(res); \n    },\n    show_promo_price() {\n      var promo_value = document.getElementById(\"promo_code\").value;\n      if (promo_value=='123' && document.getElementById(\"promocode_used\").value=='0') {\n        this.amount = this.amount-( 10 * this.amount / 100 );\n        this.plan.price = this.amount;\n        document.getElementById(\"promocode_used\").value = \"1\";\n        setTimeout(() => { this.$refs[\"promocode-modal\"].show(); }, 800); \n      } else {\n        setTimeout(() => { this.$refs[\"fpromocode-modal\"].show(); }, 800);\n      }\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./UpgradeToPlan.scss\";\n</style>\n\n"],"sourceRoot":"src/views/payment"}]}