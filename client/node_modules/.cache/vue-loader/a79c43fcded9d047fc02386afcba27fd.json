{"remainingRequest":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/Jobs/DOAN-TT/client/src/views/payment/NormalSigin.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/var/www/html/Jobs/DOAN-TT/client/src/views/payment/NormalSigin.vue","mtime":1573548269957},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/css-loader/index.js","mtime":1571304325802},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1571304326381},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/sass-loader/dist/cjs.js","mtime":1571304338110},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/cache-loader/dist/cjs.js","mtime":1571633391755},{"path":"/var/www/html/Jobs/DOAN-TT/client/node_modules/vue-loader/lib/index.js","mtime":1571304326381}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"./NormalSigin.scss\";\n@import \"../document/AddDocuments.scss\";\n",{"version":3,"sources":["NormalSigin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4YA;AACA","file":"NormalSigin.vue","sourceRoot":"src/views/payment","sourcesContent":["<template>\n  <div class=\"app flex-row\" ref=\"fileform\">\n    <div class=\"w-100 normal-sign\">\n      <div class=\"profile-header\">\n        <div class=\"user-happy\">\n          <!-- <img src=\"img/avatars/NoPath@2x.png\" /> -->\n          <div class=\"avatar-tag\">\n            <span v-if=\"!option.img\" >ST</span>\n            <div class=\"change-avatar\" v-on:click=\"changeAvatar()\">Change</div>\n              <img :src=\"getAvatar\" style=\"width: inherit;\" />\n\n          </div>\n          <div class=\"ml-3\">\n            <h1 class=\"happy\">{{ $t(\"home.title\") }}<div>{{ $t(\"home.subtitle\") }}</div></h1>\n            <span class=\"comments\">{{ $t(\"home.comments\") }}</span>\n          </div>\n        </div>\n        <div class=\"user-actions\">\n          <div class=\"user-action\">\n            <div class=\"action-numbers\">0</div>\n            <div class=\"action-type\">{{ $t(\"home.user.action.typeLeft\") }}</div>\n          </div>\n          <div class=\"user-action\">\n            <div class=\"action-numbers\">1</div>\n            <div class=\"action-type\">{{ $t(\"home.user.action.typeRight\") }}</div>\n          </div>\n          <div class=\"user-plan\">\n            <div>\n              <img src=\"img/payment/upgrad.png\" />\n            </div>\n            <div class=\"upgrade-content\">\n              <div class=\"upgrade-to\">{{ $t(\"home.user.plan.title\") }}</div>\n              <div class=\"comments\">{{ $t(\"home.user.plan.comments\") }}</div>\n              <b-link class=\"click-here\" v-on:click=\"upgradePlan()\">{{ $t(\"home.user.plan.click\") }}</b-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr class=\"mb-5\" />\n      <div class=\"row\">\n        <div class=\"col-md-3 pr-md-0\" v-if =\"false\">\n          <div class=\"content-card text-center\">\n            <div class=\"chart\">\n              <radial-progress-bar :diameter=\"160\"\n                       :completed-steps=\"completedSteps\"\n                       :total-steps=\"totalSteps\"\n                       stopColor=\"#e2ccc3\"\n                       startColor=\"#b59a90\"\n                       innerStrokeColor=\"#eeeae8\"\n                       :strokeWidth=\"8\"\n                       >\n                <div class=\"completion-rate\">{{ completedSteps }}/{{ totalSteps }}</div>\n              </radial-progress-bar>\n            </div>\n            <div class=\"completion\"> {{ $t(\"home.profile.title\") }}</div>\n            <div class=\"comments text-center mb-4\">\n              {{ $t(\"home.profile.comments\") }}\n            </div>\n            <b-button variant=\"primary\" class=\"mb-4\" block>{{ $t(\"home.profile.button\") }}</b-button>\n          </div>\n        </div>\n        <div class=\"col-md-5 pr-md-0\">\n          <div class=\"content-card sign-signature\">\n            <div class=\"header\">{{ $t(\"home.signature\") }}</div>\n            <div class=\"sign\">\n              <span v-if=\"getDefaultSignInitial\">\n                <img :src=\"getDefaultSignInitial.uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n              </span>\n              <span v-else>\n                <b-button variant=\"link\" block>\n                  <UserIcon icon=\"upload.svg\" />\n                </b-button>\n                <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n              </span>\n            </div>\n            <div class=\"text-right\">\n              <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n              <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-6 pr-1\">\n              <div class=\"content-card sign-signature\">\n                <div class=\"header\">{{ $t(\"home.initials\") }}</div>\n                <div class=\"sign initials mx-auto\">\n                  <span v-if=\"getDefaultSignInitial\">\n                    <img :src=\"getDefaultSignInitial.initial_uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n                  </span>\n                  <span v-else>\n                    <b-button variant=\"link\" block>\n                      <UserIcon icon=\"upload.svg\" />\n                    </b-button>\n                    <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n                  </span>\n                </div>\n                <div class=\"text-right\">\n                  <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n                  <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-6 pl-1\">\n              <div class=\"content-card sign-signature\">\n                <div class=\"header\">{{ $t(\"home.stamp\") }}</div>\n                <div class=\"sign initials mx-auto\">\n                  <span v-if=\"getDefaultStamp\">\n                    <img :src=\"getDefaultStamp.uploaded_url\" alt=\"Signature Image\" style=\"height: 100px; width: auto; max-width: 350px;\" />\n                  </span>\n                  <span v-else>\n                    <b-button variant=\"link\" block>\n                      <UserIcon icon=\"upload.svg\" />\n                    </b-button>\n                    <b-button variant=\"link\" block class=\"upload-initials\">{{ $t(\"home.upload\") }}</b-button>\n                  </span>\n                </div>\n                <div class=\"text-right\">\n                  <b-button variant=\"link\" class=\"mr-1\">{{ $t(\"home.replace\") }}</b-button>|\n                  <b-button variant=\"link\" class=\"ml-1\">{{ $t(\"home.remove\") }}</b-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-7\">\n          <FileUpload :files=\"uploadFiles\" @addLandingFiles=\"addFiles\"/>\n        </div>\n      </div>\n    </div>\n    <Message />\n    \n    <b-modal id=\"change-avatar-modal\" ref=\"change-avatar-modal\"\n       hide-footer centered size=\"xl\">\n      <div class=\"change-avatar-modal\">\n        <div class=\"title\">Change Profile Image</div>\n\n        <div class=\"img-control-btns\">\n          <input \n            type=\"file\" \n            ref=\"avatar_file\"\n            style=\"display: none\"  \n            @change=\"uploadImg($event, 1)\" />\n          <b-button variant=\"outline-primary\" v-on:click=\"changeAvatarImg()\">Other Image</b-button>\n          <div>\n            <i class=\"fa fa-rotate-left clickable-icon\" @click=\"rotateLeft\"/>\n            <i class=\"fa fa-rotate-right clickable-icon mx-3\" @click=\"rotateRight\"/>\n          </div>\n        </div> \n        <!-- <vue-cropper\n          ref=\"cropper\"\n          v-bind=\"options\"\n        /></vue-cropper> -->\n        <div class=\"cut\">\n          <vue-cropper \n            ref=\"cropper\" \n            :img=\"option.img\" \n            :src=\"option.img\"\n            :output-size=\"option.size\" \n            :output-type=\"option.outputType\" \n            :info=\"true\" :full=\"option.full\" \n            :fixed=\"fixed\"\n            :can-move=\"option.canMove\" \n            :can-move-box=\"option.canMoveBox\" \n            :fixed-box=\"option.fixedBox\" \n            :original=\"option.original\"\n            :auto-crop=\"option.autoCrop\" \n            :auto-crop-width=\"option.autoCropWidth\" \n            :auto-crop-height=\"option.autoCropHeight\" \n            :center-box=\"option.centerBox\"\n            @real-time=\"realTime\" :high=\"option.high\"\n            @img-load=\"imgLoad\" mode=\"cover\"\n          ></vue-cropper>\n        </div>\n        <div class=\"text-center\">\n          <b-button variant=\"outline-primary\" class=\"mr-3\" v-on:click=\"cancelAvatar()\" >Cancel</b-button>\n          <button type=\"submit\" class=\"btn btn-primary\" v-on:click=\"saveAvatar()\">Save changes</button>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport UserIcon from \"../../components/UserIcon\";\nimport FileUpload from \"../../components/FileUpload\";\nimport Message from \"../../components/Message\";\nimport RadialProgressBar from 'vue-radial-progress';\nimport { VueCropper } from 'vue-cropper'\nimport { EventBus } from \"../../config/event-bus\";\nimport { mapGetters, mapState } from 'vuex'\nimport { signation } from '../../mixins/signation'\nimport { stampseal } from '../../mixins/stampseal'\nimport store from '../../store/store'\nimport { \n  CHANGE_IMAGE_REQUEST, GET_USER_INFOR_REQUEST,\n  SIGNATURE_GET, STAMP_GET\n} from '../../store/actions.type'\nimport { CHANGE_IMAGE_SUCCESS } from '../../store/mutations.type'\n\nimport 'cropperjs/dist/cropper.css';\nexport default {\n  name: \"NormalSign\",\n  components: {\n    FileUpload,\n    UserIcon,\n    Message,\n    RadialProgressBar,\n    VueCropper\n  },\n  mixins: [signation, stampseal],\n  data() {\n    return {\n      uploadFiles: [],\n      files: [],\n      cropped: null,\n      avatar: \"../../../../img/avatars/default.png\",\n      sections: [\n        { label: 'Red section', value: 45, color: '#d4bcb2' },\n      ],\n      completedSteps: 3,\n      totalSteps: 7,\n      model: false,\n      modelSrc: '',\n      crap: false,\n      previews: {},\n      lists: [\n        {\n          img: 'https://qn-qn-kibey-static-cdn.app-echo.com/goodboy-weixin.PNG'\n        },\n        {\n          img: 'https://avatars2.githubusercontent.com/u/15681693?s=460&v=4'\n        }\n      ],\n      option: {\n        img: this.test && this.test.user && this.test.user.avatar ? this.test.user.avatar :'../../../../img/avatars/default.png',\n        size: 1,\n        full: false,\n        outputType: 'png',\n        canMove: true,\n        fixedBox: false,\n        original: false,\n        canMoveBox: true,\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 150,\n        centerBox: false,\n        high: true\n      },\n      show: true,\n      fixed: true,\n      fixedNumber: [1, 2]\n    }\n  },\n  created(){\n    store.dispatch(GET_USER_INFOR_REQUEST)\n    .then( res => {\n      res \n        && res.user \n          && res.user.avatar ? this.option.img = res.user.avatar : this.option.img;\n    })\n    .catch( err => {\n\n    });\n\n    this.getSignatures()\n      .then(response => {\n        store.dispatch(SIGNATURE_GET, response.data.data)\n      })\n      .catch(errors => {\n        console.log(errors.response)\n      });\n    this.getStamps()\n      .then(response => {\n        store.dispatch(STAMP_GET, response.data.data)\n      })\n      .catch(errors => {\n        console.log(errors.response)\n      });\n  },\n  mounted(){\n    \n  },\n  computed: {\n    ...mapGetters([\n      'getUser',\n      'getDefaultSignInitial',\n      'getDefaultStamp'\n    ]),\n    getAvatar() {\n      return this.getUser.avatar || './img/avatars/default.png'\n    }\n  },\n  methods: {\n    changeAvatarImg() {\n      this.$refs.avatar_file.click();\n    },\n    onFileChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files || !files.length) return;\n      var reader = new FileReader();\n      reader.onload = function(e) {\n        this.avatar = e.target.result;\n      }.bind(this);\n      reader.readAsDataURL(files[0]);\n    },\n    uploadImg(e, num) {\n      var file = e.target.files[0]\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        return false\n      }\n      var reader = new FileReader()\n      reader.onload = (e) => {\n        let data\n        if (typeof e.target.result === 'object') {\n          data = window.URL.createObjectURL(new Blob([e.target.result]))\n        } else {\n          data = e.target.result\n        }\n        if (num === 1) {\n          this.option.img = data\n        } else if (num === 2) {\n          this.example2.img = data\n        }\n      }\n      reader.readAsArrayBuffer(file)\n    },\n    rotate(rotationAngle) {\n      this.$refs['cropper'].rotate(rotationAngle);\n    },\n    saveAvatar(type) {\n      this.$refs.cropper.getCropData((data) => {\n        store.dispatch(CHANGE_IMAGE_REQUEST, {avatar: data})\n        .then( res => {\n          this.option.img = res.user.avatar;\n          this.$refs['change-avatar-modal'].hide();\n        })\n        .catch( err => {\n\n        });\n      })\n    },\n    changeAvatar() {\n      this.$refs['change-avatar-modal'].show();\n    },\n    cancelAvatar() {\n      this.$refs['change-avatar-modal'].hide();\n    },\n    upgradePlan() {\n      this.$router.push({ path: \"/payment/upgrade-plan\" });\n    },\n    addFiles(files) {\n      let self = this;\n      files &&\n        files.length > 0 &&\n        files.map(file => {\n          self.uploadFiles.push(file)\n        });\n      EventBus.$emit('FILES_UPLOAD', this.uploadFiles)\n    },\n    uploadImg(e, num) {\n      var file = e.target.files[0]\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        return false\n      }\n      var reader = new FileReader()\n      reader.onload = (e) => {\n        let data\n        if (typeof e.target.result === 'object') {\n          data = window.URL.createObjectURL(new Blob([e.target.result]))\n        } else {\n          data = e.target.result\n        }\n        if (num === 1) {\n          this.option.img = data\n        } else if (num === 2) {\n          this.example2.img = data\n        }\n      }\n      reader.readAsArrayBuffer(file)\n    },\n    imgLoad(msg) {\n      console.log(msg)\n    },\n    rotateLeft() {\n      this.$refs.cropper.rotateLeft()\n    },\n    rotateRight() {\n      this.$refs.cropper.rotateRight()\n    },\n    realTime(data) {\n      this.previews = data\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./NormalSigin.scss\";\n@import \"../document/AddDocuments.scss\";\n</style>\n\n"]}]}